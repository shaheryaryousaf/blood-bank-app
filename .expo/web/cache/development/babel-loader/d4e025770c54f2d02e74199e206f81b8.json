{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"H:\\\\React\\\\native\\\\blood-bank\\\\app\\\\screens\\\\UsersListScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Screen from \"../components/Screen\";\nimport UserListItem from \"../components/UserListItem\";\nimport ListItemSeparator from \"../components/ListItemSeparator\";\nimport { connect } from 'react-redux';\nimport { getAllProfiles } from \"../actions/Profile\";\nimport { firestore } from \"../config/firebase\";\nvar users = [{\n  id: 1,\n  name: 'John Doe',\n  blood_group: 'O+'\n}, {\n  id: 2,\n  name: 'John Cena',\n  blood_group: 'O-'\n}, {\n  id: 3,\n  name: 'Bruce Wayne',\n  blood_group: 'A+'\n}, {\n  id: 4,\n  name: 'Clark Kent',\n  blood_group: 'A-'\n}, {\n  id: 5,\n  name: 'Diana Prince',\n  blood_group: 'AB+'\n}, {\n  id: 6,\n  name: 'Tony Stark',\n  blood_group: 'AB-'\n}, {\n  id: 7,\n  name: 'Steve Rogers',\n  blood_group: 'B+'\n}, {\n  id: 8,\n  name: \"T'Challa\",\n  blood_group: 'B-'\n}, {\n  id: 9,\n  name: 'Bucky',\n  blood_group: 'O+'\n}, {\n  id: 10,\n  name: 'Bruce Banner',\n  blood_group: 'O-'\n}, {\n  id: 12,\n  name: 'Natasha',\n  blood_group: 'A+'\n}, {\n  id: 13,\n  name: 'Berry Allan',\n  blood_group: 'O+'\n}];\n\nvar UsersListScreen = function UsersListScreen(_ref) {\n  var navigation = _ref.navigation,\n      getAllProfiles = _ref.getAllProfiles,\n      profiles = _ref.profiles;\n  useEffect(function _callee() {\n    var get;\n    return _regeneratorRuntime.async(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            get = function _get() {\n              return _regeneratorRuntime.async(function get$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      firestore.collection('profiles').onSnapshot(function (snapshot) {\n                        var postData = [];\n                        snapshot.forEach(function (doc) {\n                          return postData.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n                            id: doc.id\n                          }));\n                        });\n                        console.log(postData);\n                      });\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            };\n\n            get();\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n  return React.createElement(Screen, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    data: profiles,\n    keyExtractor: function keyExtractor(profile) {\n      return profile.id.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 35\n        }\n      }, item.name);\n    },\n    ItemSeparatorComponent: ListItemSeparator,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    profiles: state.Profile.profiles\n  };\n};\n\nexport default connect(null, {\n  getAllProfiles: getAllProfiles\n})(UsersListScreen);","map":{"version":3,"sources":["H:/React/native/blood-bank/app/screens/UsersListScreen.js"],"names":["React","useEffect","Screen","UserListItem","ListItemSeparator","connect","getAllProfiles","firestore","users","id","name","blood_group","UsersListScreen","navigation","profiles","get","collection","onSnapshot","snapshot","postData","forEach","doc","push","data","console","log","profile","toString","item","mapStateToProps","state","Profile"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nimport { FlatList, Text } from 'react-native'\r\n\r\nimport Screen from '../components/Screen'\r\nimport UserListItem from '../components/UserListItem'\r\nimport ListItemSeparator from '../components/ListItemSeparator'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { getAllProfiles } from '../actions/Profile'\r\n\r\nimport { firestore } from '../config/firebase'\r\n\r\nconst users = [\r\n  {\r\n    id: 1,\r\n    name: 'John Doe',\r\n    blood_group: 'O+',\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'John Cena',\r\n    blood_group: 'O-',\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Bruce Wayne',\r\n    blood_group: 'A+',\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'Clark Kent',\r\n    blood_group: 'A-',\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'Diana Prince',\r\n    blood_group: 'AB+',\r\n  },\r\n  {\r\n    id: 6,\r\n    name: 'Tony Stark',\r\n    blood_group: 'AB-',\r\n  },\r\n  {\r\n    id: 7,\r\n    name: 'Steve Rogers',\r\n    blood_group: 'B+',\r\n  },\r\n  {\r\n    id: 8,\r\n    name: \"T'Challa\",\r\n    blood_group: 'B-',\r\n  },\r\n  {\r\n    id: 9,\r\n    name: 'Bucky',\r\n    blood_group: 'O+',\r\n  },\r\n  {\r\n    id: 10,\r\n    name: 'Bruce Banner',\r\n    blood_group: 'O-',\r\n  },\r\n  {\r\n    id: 12,\r\n    name: 'Natasha',\r\n    blood_group: 'A+',\r\n  },\r\n  {\r\n    id: 13,\r\n    name: 'Berry Allan',\r\n    blood_group: 'O+',\r\n  },\r\n]\r\n\r\nconst UsersListScreen = ({ navigation, getAllProfiles, profiles }) => {\r\n  useEffect(async () => {\r\n    async function get(){\r\n      firestore.collection('profiles').onSnapshot((snapshot) => {\r\n        const postData = []\r\n        snapshot.forEach((doc) => postData.push({ ...doc.data(), id: doc.id }))\r\n        console.log(postData)\r\n      })\r\n    }\r\n    get()\r\n  }, [])\r\n  return (\r\n    <Screen>\r\n      <FlatList\r\n        data={profiles}\r\n        keyExtractor={(profile) => profile.id.toString()}\r\n        renderItem={({ item }) => <Text>{item.name}</Text>}\r\n        ItemSeparatorComponent={ListItemSeparator}\r\n      />\r\n    </Screen>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profiles: state.Profile.profiles,\r\n})\r\n\r\nexport default connect(null, { getAllProfiles })(UsersListScreen)\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { COMPLETE_PROFILE_SUCCESS, COMPLETE_PROFILE_FAIL } from \"./types\";\nimport { firebase2, db, firestore } from \"../config/firebase\";\nexport var completeProfile = function completeProfile(data) {\n  return function _callee(dispatch) {\n    var userData;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            userData = {\n              phone: data.phone,\n              age: data.age,\n              blood_group: data.blood_group,\n              address: data.address,\n              city: data.city,\n              bio: data.bio\n            };\n            console.log(data.id);\n            console.log(userData);\n\n            try {\n              firestore.collection('profiles').doc({\n                id: data.uid\n              }).update({\n                userData: userData\n              });\n              console.log(data);\n              dispatch({\n                type: COMPLETE_PROFILE_SUCCESS,\n                payload: res\n              });\n            } catch (err) {\n              dispatch({\n                type: COMPLETE_PROFILE_FAIL\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["H:/React/native/blood-bank/app/actions/Profile.js"],"names":["COMPLETE_PROFILE_SUCCESS","COMPLETE_PROFILE_FAIL","firebase2","db","firestore","completeProfile","data","dispatch","userData","phone","age","blood_group","address","city","bio","console","log","id","collection","doc","uid","update","type","payload","res","err"],"mappings":";AAAA,SAASA,wBAAT,EAAmCC,qBAAnC;AACA,SAASC,SAAT,EAAoBC,EAApB,EAAwBC,SAAxB;AAKA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD;AAAA,SAAU,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAGjCC,YAAAA,QAHiC,GAGtB;AACfC,cAAAA,KAAK,EAAEH,IAAI,CAACG,KADG;AAEfC,cAAAA,GAAG,EAAEJ,IAAI,CAACI,GAFK;AAGfC,cAAAA,WAAW,EAAEL,IAAI,CAACK,WAHH;AAIfC,cAAAA,OAAO,EAAEN,IAAI,CAACM,OAJC;AAKfC,cAAAA,IAAI,EAAEP,IAAI,CAACO,IALI;AAMfC,cAAAA,GAAG,EAAER,IAAI,CAACQ;AANK,aAHsB;AAWvCC,YAAAA,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACW,EAAjB;AACAF,YAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;;AACA,gBAAI;AACFJ,cAAAA,SAAS,CAACc,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,CAAqC;AAAEF,gBAAAA,EAAE,EAAEX,IAAI,CAACc;AAAX,eAArC,EAAuDC,MAAvD,CAA8D;AAC5Db,gBAAAA,QAAQ,EAARA;AAD4D,eAA9D;AAGAO,cAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACAC,cAAAA,QAAQ,CAAC;AACPe,gBAAAA,IAAI,EAAEtB,wBADC;AAEPuB,gBAAAA,OAAO,EAAEC;AAFF,eAAD,CAAR;AAID,aATD,CASE,OAAOC,GAAP,EAAY;AACZlB,cAAAA,QAAQ,CAAC;AACPe,gBAAAA,IAAI,EAAErB;AADC,eAAD,CAAR;AAGD;;AA1BsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;AAAA,CAAxB","sourcesContent":["import { COMPLETE_PROFILE_SUCCESS, COMPLETE_PROFILE_FAIL } from './types'\r\nimport { firebase2, db, firestore } from '../config/firebase'\r\n\r\n/* ============================== */\r\n/* CREATE NEW USER PROFILE */\r\n/* ============================== */\r\nexport const completeProfile = (data) => async (dispatch) => {\r\n  // uid = data.uid\r\n  // console.log(uid)\r\n  const userData = {\r\n    phone: data.phone,\r\n    age: data.age,\r\n    blood_group: data.blood_group,\r\n    address: data.address,\r\n    city: data.city,\r\n    bio: data.bio,\r\n  }\r\n  console.log(data.id)\r\n  console.log(userData)\r\n  try {\r\n    firestore.collection('profiles').doc({ id: data.uid }).update({\r\n      userData,\r\n    })\r\n    console.log(data)\r\n    dispatch({\r\n      type: COMPLETE_PROFILE_SUCCESS,\r\n      payload: res,\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: COMPLETE_PROFILE_FAIL,\r\n    })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { COMPLETE_PROFILE_SUCCESS, COMPLETE_PROFILE_FAIL, GET_PROFILE_SUCCESS, GET_PROFILE_FAIL, GET_ALL_PROFILES_SUCCESS, GET_ALL_PROFILES_FAIL } from \"./types\";\nimport { firestore } from \"../config/firebase\";\nexport var completeProfile = function completeProfile(data) {\n  return function _callee(dispatch) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              firestore.collection('profiles').doc(data.id).update({\n                phone: data.phone,\n                age: data.age,\n                blood_group: data.blood_group,\n                address: data.address,\n                city: data.city,\n                bio: data.bio\n              });\n              dispatch({\n                type: COMPLETE_PROFILE_SUCCESS,\n                payload: res\n              });\n            } catch (err) {\n              dispatch({\n                type: COMPLETE_PROFILE_FAIL\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var getAllProfiles = function getAllProfiles() {\n  return function _callee2(dispatch) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            try {\n              firestore.collection('profiles').on('value', function (snapshot) {\n                var itemsList = [];\n                snapshot.forEach(function (snap) {\n                  var key = snap.key;\n                  var data = snap.val();\n                  var name = data.name,\n                      blood_group = data.blood_group,\n                      id = data.id,\n                      price = data.price,\n                      phone = data.phone,\n                      state = data.state,\n                      city = data.city,\n                      added_by = data.added_by,\n                      image = data.image,\n                      date = data.date;\n                  itemsList.push({\n                    key: key,\n                    title: title,\n                    condition: condition,\n                    description: description,\n                    price: price,\n                    phone: phone,\n                    state: state,\n                    city: city,\n                    image: image,\n                    added_by: added_by,\n                    date: date\n                  });\n                });\n                dispatch({\n                  type: GET_ADS,\n                  payload: itemsList\n                });\n              });\n            } catch (error) {\n              dispatch({\n                type: GET_ALL_PROFILES_FAIL\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var getProfile = function getProfile(data) {\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            try {\n              firestore.collection('profiles').doc(data).get().then(function (doc) {\n                if (doc.exists) {\n                  dispatch({\n                    type: GET_PROFILE_SUCCESS,\n                    payload: doc.data()\n                  });\n                } else {\n                  dispatch({\n                    type: GET_PROFILE_FAIL\n                  });\n                }\n              }).catch(function (error) {\n                console.log('Error getting document:', error);\n              });\n            } catch (err) {\n              dispatch({\n                type: GET_PROFILE_FAIL\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["H:/React/native/blood-bank/app/actions/Profile.js"],"names":["COMPLETE_PROFILE_SUCCESS","COMPLETE_PROFILE_FAIL","GET_PROFILE_SUCCESS","GET_PROFILE_FAIL","GET_ALL_PROFILES_SUCCESS","GET_ALL_PROFILES_FAIL","firestore","completeProfile","data","dispatch","collection","doc","id","update","phone","age","blood_group","address","city","bio","type","payload","res","err","getAllProfiles","on","snapshot","itemsList","forEach","snap","key","val","name","price","state","added_by","image","date","push","title","condition","description","GET_ADS","error","getProfile","get","then","exists","catch","console","log"],"mappings":"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","sourcesContent":["import {\r\n  COMPLETE_PROFILE_SUCCESS,\r\n  COMPLETE_PROFILE_FAIL,\r\n  GET_PROFILE_SUCCESS,\r\n  GET_PROFILE_FAIL,\r\n  GET_ALL_PROFILES_SUCCESS,\r\n  GET_ALL_PROFILES_FAIL,\r\n} from './types'\r\nimport { firestore } from '../config/firebase'\r\n\r\n/* ============================== */\r\n/* CREATE NEW USER PROFILE */\r\n/* ============================== */\r\nexport const completeProfile = (data) => async (dispatch) => {\r\n  try {\r\n    firestore.collection('profiles').doc(data.id).update({\r\n      phone: data.phone,\r\n      age: data.age,\r\n      blood_group: data.blood_group,\r\n      address: data.address,\r\n      city: data.city,\r\n      bio: data.bio,\r\n    })\r\n    dispatch({\r\n      type: COMPLETE_PROFILE_SUCCESS,\r\n      payload: res,\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: COMPLETE_PROFILE_FAIL,\r\n    })\r\n  }\r\n}\r\n\r\n/* ============================== */\r\n/* GET ALL PROFILES */\r\n/* ============================== */\r\nexport const getAllProfiles = () => async (dispatch) => {\r\n  try {\r\n    firestore.collection('profiles').on('value', (snapshot) => {\r\n      let itemsList = []\r\n      snapshot.forEach((snap) => {\r\n        var key = snap.key\r\n        var data = snap.val()\r\n        const {\r\n          name,\r\n          blood_group,\r\n          id,\r\n          price,\r\n          phone,\r\n          state,\r\n          city,\r\n          added_by,\r\n          image,\r\n          date,\r\n        } = data\r\n        itemsList.push({\r\n          key: key,\r\n          title: title,\r\n          condition: condition,\r\n          description: description,\r\n          price: price,\r\n          phone: phone,\r\n          state: state,\r\n          city: city,\r\n          image: image,\r\n          added_by: added_by,\r\n          date: date,\r\n        })\r\n      })\r\n      dispatch({\r\n        type: GET_ADS,\r\n        payload: itemsList,\r\n      })\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ALL_PROFILES_FAIL,\r\n    })\r\n  }\r\n}\r\n\r\n/* ============================== */\r\n/* GET USER PROFILE */\r\n/* ============================== */\r\nexport const getProfile = (data) => async (dispatch) => {\r\n  try {\r\n    firestore\r\n      .collection('profiles')\r\n      .doc(data)\r\n      .get()\r\n      .then(function (doc) {\r\n        if (doc.exists) {\r\n          dispatch({\r\n            type: GET_PROFILE_SUCCESS,\r\n            payload: doc.data(),\r\n          })\r\n        } else {\r\n          dispatch({\r\n            type: GET_PROFILE_FAIL,\r\n          })\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log('Error getting document:', error)\r\n      })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_PROFILE_FAIL,\r\n    })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}